# =============================================================================
# Environment Variables Template for Docker Compose
# =============================================================================
# This is the SINGLE SOURCE OF TRUTH for all environment variables.
# Copy this file to:
#   - .env.dev (for development)
#   - .env (for production)
#
# IMPORTANT: DO NOT commit .env or .env.dev with secrets to version control
# =============================================================================

# =============================================================================
# MySQL Configuration
# =============================================================================
MYSQL_ROOT_PASSWORD=your-secure-root-password-here
MYSQL_DATABASE=reserve_db
MYSQL_USER=reserve_user
MYSQL_PASSWORD=your-secure-password-here

# =============================================================================
# Database Connection (used by API service)
# =============================================================================
# Note: DB_USERNAME, DB_PASSWORD, DB_DATABASE should match MYSQL_* values above
DB_TYPE=mysql
DB_HOST=mysql
DB_PORT=3306
DB_USERNAME=reserve_user
DB_PASSWORD=your-secure-password-here
DB_DATABASE=reserve_db

# TypeORM configuration
# WARNING: Set to false in production! Use migrations instead.
DB_SYNCHRONIZE=false
DB_LOGGING=false

# =============================================================================
# JWT Configuration
# =============================================================================
# Generate secure keys with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-jwt-secret-change-in-production
JWT_REFRESH_SECRET=your-jwt-refresh-secret-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# Security
# =============================================================================
# Admin Token (used by both API and Web)
# IMPORTANT: ADMIN_TOKEN and NEXT_PUBLIC_ADMIN_TOKEN must have the same value
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_TOKEN=your-admin-token-change-in-production

# PIN pepper for additional security
# Generate with: node -e "console.log(Buffer.from(require('crypto').randomBytes(32)).toString('base64'))"
SECURITY_PIN_PEPPER=your-base64-encoded-pepper-here

# =============================================================================
# Next.js Public Variables (injected at build time)
# =============================================================================
# IMPORTANT: These variables are embedded into the client-side bundle
# API Base URL: Use /api for Nginx proxy, or http://localhost:3000/api for direct connection
NEXT_PUBLIC_API_BASE_URL=/api

# IMPORTANT: Must match ADMIN_TOKEN above
NEXT_PUBLIC_ADMIN_TOKEN=your-admin-token-change-in-production

# =============================================================================
# Optional: phpMyAdmin (development only)
# =============================================================================
# PHPMYADMIN_PORT=9080
